<html><head><title>wdiff draft-nottingham-http-link-header-06.txt draft-nottingham-http-link-header-07.txt</title></head><body>
<pre>

Network Working Group                                      M. Nottingham
Internet-Draft                                             <strike><font color='red'>July 12,</font></strike>                                         <strong><font color='green'>December 14,</font></strong> 2009
Updates: 4287 (if approved)
Intended status: Standards Track
Expires: <strike><font color='red'>January 13,</font></strike> <strong><font color='green'>June 17,</font></strong> 2010

                              Web Linking
                  <strike><font color='red'>draft-nottingham-http-link-header-06</font></strike>
                  <strong><font color='green'>draft-nottingham-http-link-header-07

Abstract

   This document specifies relation types for Web links, and defines a
   registry for them.  It also defines the use of such links in HTTP
   headers with the Link header-field.</font></strong>

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.  <strike><font color='red'>This document may contain material
   from IETF Documents or IETF Contributions published or made publicly
   available before November 10, 2008.  The person(s) controlling the
   copyright in some of this material may not have granted the IETF
   Trust the right to allow modifications of such material outside the
   IETF Standards Process.  Without obtaining an adequate license from
   the person(s) controlling the copyright in such materials, this
   document may not be modified outside the IETF Standards Process, and
   derivative works of it may not be created outside the IETF Standards
   Process, except to format it for publication as an RFC or to
   translate it into languages other than English.</font></strike>

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on <strike><font color='red'>January 13,</font></strike> <strong><font color='green'>June 17,</font></strong> 2010.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   <strong><font color='green'>(http://trustee.ietf.org/license-info)</font></strong> in effect on the date of
   publication of this <strike><font color='red'>document (http://trustee.ietf.org/license-info).</font></strike> <strong><font color='green'>document.</font></strong>  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.

<strike><font color='red'>Abstract

   This</font></strike>  <strong><font color='green'>Code Components extracted from this</font></strong> document <strike><font color='red'>specifies relation types for Web links,</font></strike> <strong><font color='green'>must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions</font></strong> and <strike><font color='red'>defines a
   registry for them.  It also defines how to send such links</font></strike> <strong><font color='green'>are provided without warranty as
   described</font></strong> in <strike><font color='red'>HTTP
   headers with</font></strike> the <strike><font color='red'>Link header-field.

Table</font></strike> <strong><font color='green'>BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some</font></strong> of <strike><font color='red'>Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Notational Conventions . . .</font></strike> <strong><font color='green'>this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Notational Conventions . . .</font></strong> . . . . . . . . . . . . . . . . .  3
   3.  Links  . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
   4.  Link Relation Types  . . . . . . . . . . . . . . . . . . . . .  4
     4.1.  Registered Relation Types  . . . . . . . . . . . . . . . .  5
     4.2.  Extension Relation Types . . . . . . . . . . . . . . . . .  <strike><font color='red'>6</font></strike>  <strong><font color='green'>5</font></strong>
   5.  The Link Header Field  . . . . . . . . . . . . . . . . . . . .  6
     5.1.  Examples . . . . . . . . . . . . . . . . . . . . . . . . .  <strike><font color='red'>7</font></strike>  <strong><font color='green'>8</font></strong>
   6.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  <strike><font color='red'>8</font></strike>  <strong><font color='green'>9</font></strong>
     6.1.  Link <strong><font color='green'>HTTP</font></strong> Header Registration  . . . . . . . . . . . . . . <strike><font color='red'>. . .  8</font></strike>  <strong><font color='green'>9</font></strong>
     6.2.  Link Relation Type Registry  . . . . . . . . . . . . . . .  9
     <strong><font color='green'>6.3.  Link Relation Field Registry . . . . . . . . . . . . . . . 14</font></strong>
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . <strike><font color='red'>13</font></strike> <strong><font color='green'>15</font></strong>
   8.  Internationalisation Considerations  . . . . . . . . . . . . . <strike><font color='red'>13</font></strike> <strong><font color='green'>15</font></strong>
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . . <strike><font color='red'>13</font></strike> <strong><font color='green'>15</font></strong>
     9.1.  Normative References . . . . . . . . . . . . . . . . . . . <strike><font color='red'>13</font></strike> <strong><font color='green'>15</font></strong>
     9.2.  Informative References . . . . . . . . . . . . . . . . . . <strike><font color='red'>14</font></strike> <strong><font color='green'>16</font></strong>
   Appendix A.  <strike><font color='red'>Notes on Using the</font></strike>  Link <strike><font color='red'>Header with HTML4</font></strike> <strong><font color='green'>Relation Registry Format</font></strong> . . . . . . <strike><font color='red'>15</font></strike> <strong><font color='green'>. . . . . . 17
     A.1.  Relax NG Grammar . . . . . . . . . . . . . . . . . . . . . 18
     A.2.  Example  . . . . . . . . . . . . . . . . . . . . . . . . . 18</font></strong>
   Appendix B.  Notes on Using the Link Header with <strike><font color='red'>Atom</font></strike> <strong><font color='green'>HTML4</font></strong> . . . . . . <strike><font color='red'>16</font></strike> <strong><font color='green'>18</font></strong>
   Appendix C.  <strike><font color='red'>Defining New</font></strike>  <strong><font color='green'>Notes on Using the</font></strong> Link <strike><font color='red'>Serialisations  . . . .</font></strike> <strong><font color='green'>Header with Atom</font></strong>  . . . . . . <strike><font color='red'>17</font></strike> <strong><font color='green'>19</font></strong>
   Appendix D.  Acknowledgements  . . . . . . . . . . . . . . . . . . <strike><font color='red'>17</font></strike> <strong><font color='green'>20</font></strong>
   Appendix E.  Document history  . . . . . . . . . . . . . . . . . . <strike><font color='red'>18</font></strike> <strong><font color='green'>20</font></strong>
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . <strike><font color='red'>20</font></strike> <strong><font color='green'>23</font></strong>

1.  Introduction

   A means of indicating the relationships between resources on the Web,
   as well as indicating the type of those relationships, has been
   available for some time in HTML [W3C.REC-html401-19991224], and more
   recently in Atom [RFC4287].  These mechanisms, although conceptually
   similar, are separately specified.  However, links between resources
   need not be format-specific; it can be useful to have typed links
   that are independent of their serialisation, especially when a
   resource has representations in multiple formats.

   To this end, this document defines a framework for typed links that
   isn't specific to a particular serialisation.  It does so by re-
   defining the link relation registry established by Atom to have a
   broader <strike><font color='red'>scope,</font></strike> <strong><font color='green'>domain,</font></strong> and adding to it the relations that are defined by
   HTML.

   Furthermore, an HTTP header-field for conveying typed links was
   defined in [RFC2068], but removed from [RFC2616], due to a lack of
   implementation experience.  Since then, it has been implemented in
   some User-Agents (e.g., for stylesheets), and several additional use
   cases have surfaced.

   Because it was removed, the status of the Link header is unclear,
   leading some to consider minting new application-specific HTTP
   headers instead of reusing it.  This document addresses this by re-
   specifying the Link header as one such serialisation, with updated
   but backwards-compatible syntax.

   [[ Feedback is welcome on the ietf-http-wg@w3.org mailing list,
   although this is NOT a work item of the HTTPBIS WG. ]]

2.  Notational Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in BCP 14, [RFC2119], as
   scoped to those conformance targets.

   This document uses the Augmented Backus-Naur Form (ABNF) notation of
   [RFC2616], and explicitly includes the following rules from it:
   quoted-string, token, SP <strike><font color='red'>(space).</font></strike> <strong><font color='green'>(space), LOALPHA, DIGIT.</font></strong>

   Additionally, the following rules are included from [RFC3986]: URI
   and URI-Reference, and from [RFC4288]: type-name and subtype-name.
   <strong><font color='green'>Finally, the Language-Tag rule is included from [RFC4646].</font></strong>

3.  Links

   In this specification, a link is a typed connection between two
   resources that are identified by IRIs [RFC3987], and is comprised of:
   o  A context IRI, and
   o  a link relation type (Section 4), and
   o  a target IRI, and
   o  optionally, target attributes.

   A link can be viewed as a statement of the form "{context IRI} has a
   {relation type} resource at {target IRI}, which has {target
   attributes}."

   Note that in the common case, the context IRI will also be a URI
   [RFC3986], because many protocols (such as HTTP) do not support
   dereferencing IRIs.  Likewise, the target IRI will be converted to a
   URI (see [RFC3987], Section 3.1) in serialisations that do not
   support IRIs (e.g., the Link header).

   This specification does not place restrictions on the cardinality of
   links; there can be multiple links from and to a particular IRI, and
   multiple links of different types between two given IRIs.  Likewise,
   the relative ordering of links in any particular serialisation, or
   between serialisations (e.g., the Link header and in-content links)
   is not specified or significant in this specification; applications
   that wish to consider ordering significant <strike><font color='red'>MAY</font></strike> <strong><font color='green'>can</font></strong> do so.

   Target attributes are a set of key/value pairs that describe the link
   or its target; for example, a media type hint.  This specification
   does not attempt to coordinate their names or use, but does provide
   common target attributes for use in the Link HTTP header.

   Finally, this specification does not define a general syntax for
   expressing links, nor mandate a specific context for any given link;
   it is expected that serialisations of links will specify both
   aspects.  One such serialisation is communication of links through
   HTTP headers, specified in Section 5.

4.  Link Relation Types

   <strike><font color='red'>A</font></strike>

   <strong><font color='green'>In the simplest case, a</font></strong> link relation type identifies the semantics
   of a link.  For example, a link with the relation type "copyright"
   indicates that the resource identified by the target IRI is a
   statement of the copyright terms applying to the current context IRI.

   <strike><font color='red'>Relation</font></strike>

   <strong><font color='green'>Link relation types can also be used to indicate that the target
   resource has particular attributes, or exhibits particular
   behaviours; for example, a "service" link implies that the identified
   resource is part of a defined protocol (in this case, a service
   description).

   Relation</font></strong> types are not to be confused with media types [RFC4288];
   they do not identify the format of the representation that results
   when the link is dereferenced.  Rather, they only describe how the
   current context is related to another resource.

   <strike><font color='red'>As such, relation types are not format-specific, and MUST NOT specify
   a particular format or media type that they are to be used with.
   Likewise, the context IRI for a given link is usually determined by
   the serialisation of the link (e.g., the Link header, a HTML
   document, etc.); a relation type SHOULD NOT specify the context IRI.</font></strike>

   Relation types SHOULD NOT infer any additional semantics based upon
   the presence or absence of another link <strike><font color='red'>relation,</font></strike> <strong><font color='green'>relation type,</font></strong> or its own
   cardinality of occurrence.  An exception to this is the combination
   of the "alternate" and "stylesheet" registered relation types, which
   <strike><font color='red'>have</font></strike>
   <strong><font color='green'>has</font></strong> special meaning in HTML4 for historical reasons.

   <strike><font color='red'>Consuming implementations SHOULD ignore relation types that they do
   not understand or have no need to process.</font></strike>

   There are two kinds of relation types: registered and extension.

4.1.  Registered Relation Types

   <strike><font color='red'>Commonly-used</font></strike>

   <strong><font color='green'>Well-defined</font></strong> relation types <strike><font color='red'>with a clear meaning that are shared
   across applications</font></strike> can be registered as tokens for
   convenience and to promote reuse.  <strike><font color='red'>For example, "self" and "alternate" are registered
   relation types, because they are broadly useful.</font></strike>  This specification establishes an
   IANA registry of such relation types; see Section 6.2.

   Registered relation types MUST conform to the <strike><font color='red'>token</font></strike> <strong><font color='green'>reg-relation-type</font></strong> rule,
   and <strike><font color='red'>SHOULD
   conform to the sgml-name rule for compatibility with deployed
   implementations;

    sgml-name      = ALPHA *( ALPHA | DIGIT | "." | "-" )

   Names that differ only in case from existing entries (e.g., "Foo" and
   "foo") MUST NOT be registered.  Registered relation types</font></strike> MUST be compared character-by-character in a case-insensitive
   fashion.

   <strike><font color='red'>Although registered</font></strike>

   <strong><font color='green'>Registered</font></strong> relation types <strike><font color='red'>are specified as tokens,
   applications wishing to internally refer to one using a URI MAY do so
   by considering it relative to</font></strike> <strong><font color='green'>MUST NOT constrain</font></strong> the <strike><font color='red'>base URI
   "http://www.iana.org/assignments/relation/".</font></strike> <strong><font color='green'>media type of the
   context IRI, and MUST NOT constrain the available representation
   media types of the target IRI.</font></strong>  However, <strong><font color='green'>they MAY specify</font></strong> the <strike><font color='red'>URI form</font></strike>
   <strong><font color='green'>behaviours and properties</font></strong> of <strike><font color='red'>a registered relation</font></strike> <strong><font color='green'>the target resource (e.g., allowable
   methods, request and response media types which must be supported).

   Additionally, specific applications of linking may have additional
   per-relation</font></strong> type <strike><font color='red'>SHOULD NOT</font></strike> <strong><font color='green'>attributes which are advantageous to register.  For
   example, some link relations might not</font></strong> be <strike><font color='red'>serialised when an
   application specifies</font></strike> <strong><font color='green'>appropriate to use in
   particular contexts, or might have common behaviour such as whether
   their content should be archived with the page.  To accommodate this,
   new per-entry fields MAY be added to the registry, by registering
   them in</font></strong> the <strike><font color='red'>use of a relation type, because a consuming
   implementation may not recognise it.</font></strike> <strong><font color='green'>Link Relation Field Registry Section 6.3.</font></strong>

4.2.  Extension Relation Types

   Applications that don't <strike><font color='red'>merit</font></strike> <strong><font color='green'>wish to register</font></strong> a <strike><font color='red'>registered</font></strike> relation type may use an
   extension relation type, which is a URI [RFC3986] that uniquely
   identifies the relation type.  Although the URI <strike><font color='red'>MAY</font></strike> <strong><font color='green'>can</font></strong> point to a
   resource that contains a definition of the semantics of the relation
   type, clients SHOULD NOT automatically access that resource to avoid
   overburdening its server.

   When extension relation types are compared, they MUST be compared as
   URIs in a <strike><font color='red'>case-sensitive</font></strike> <strong><font color='green'>case-insensitive</font></strong> fashion, character-by-character.  <strong><font color='green'>Because
   of this, all-lowercase URIs SHOULD be used for extension relations.</font></strong>

   Note that while extension relation types are required to be URIs, a
   serialisation of links MAY specify that they are expressed in another
   form, as long as they can be converted to URIs.

5.  The Link Header Field

   The Link entity-header field provides a means for serialising one or
   more links in HTTP headers.  It is semantically equivalent to the
   &lt;LINK&gt; element in HTML, as well as the atom:link feed-level element
   in Atom [RFC4287].

     Link              = "Link" ":" #link-value
     link-value        = "&lt;" URI-Reference "&gt;" *( ";" link-param )
     link-param        = ( ( "rel" "=" relation-types )
                       | ( "rev" "=" relation-types )
                       | ( "type" "=" type-name "/" subtype-name )
                       | ( "title" "=" quoted-string )
                       | ( "title*" "=" enc2231-string )
                       | ( <strong><font color='green'>"hreflang" "=" Language-Tag )
                       | (</font></strong> "anchor" "=" &lt;"&gt; URI-Reference &lt;"&gt; )
                       | ( link-extension ) )
     link-extension    = token [ "=" ( token | quoted-string ) ]
     enc2231-string    = <strike><font color='red'>&lt;extended-value, see [RFC2231],</font></strike> <strong><font color='green'>&lt;extended-initial-value [RFC2231]</font></strong> Section 7&gt;
     relation-types    = relation-type |
                       &lt;"&gt; relation-type *( <strike><font color='red'>SP</font></strike> <strong><font color='green'>1*SP</font></strong> relation-type ) &lt;"&gt;
     relation-type     = reg-relation-type | ext-relation-type
     reg-relation-type = <strike><font color='red'>token</font></strike> <strong><font color='green'>LOALPHA *( LOALPHA | DIGIT | "." | "-" )</font></strong>
     ext-relation-type = URI

   Each link-value conveys one target IRI as a URI-Reference (after
   conversion to one, if necessary; see [RFC3987], Section 3.1) inside
   angle brackets ("&lt;&gt;").  If the URI-Reference is relative, <strike><font color='red'>it</font></strike> <strong><font color='green'>parsers</font></strong>
   MUST <strike><font color='red'>be
   resolved</font></strike> <strong><font color='green'>resolve it</font></strong> as per [RFC3986], Section 5.  Note that any base IRI
   from the <strike><font color='red'>body's</font></strike> <strong><font color='green'>message's</font></strong> content is not applied.

   By default, the context of a link conveyed in the Link header field
   is the IRI of the requested resource.  When present, the anchor
   parameter overrides this with another URI, such as a fragment of this
   resource, or a third resource (i.e., when the anchor value is an
   absolute URI).  If the anchor parameter's value is a relative URI, <strike><font color='red'>it</font></strike>
   <strong><font color='green'>parsers</font></strong> MUST <strike><font color='red'>be resolved</font></strike> <strong><font color='green'>resolve it</font></strong> as per [RFC3986], Section 5.  Note that any
   base URI from the body's content is not applied.

   <strike><font color='red'>Normally, the</font></strike>  <strong><font color='green'>Applications MAY
   specify that links with anchor parameters are to be ignored, if such
   links are inappropriate or introduce security issues.

   The</font></strong> relation type of a link is conveyed in the "rel" parameter's
   value.  <strike><font color='red'>The</font></strike>  <strong><font color='green'>Note that the</font></strong> "rev" parameter has also been used <strike><font color='red'>for this
   purpose historically</font></strike> by some
   formats, and <strike><font color='red'>is included here for
   compatibility with those uses,</font></strike> <strong><font color='green'>MAY be accommodated as a link-extension,</font></strong> but its use is <strike><font color='red'>not</font></strike>
   <strong><font color='green'>neither</font></strong> encouraged nor defined by this specification.

   <strong><font color='green'>The "rel" parameter MUST NOT appear more than once in a given link-
   value; occurrences after the first MUST be ignored by parsers.</font></strong>

   Note that extension relation types are REQUIRED to be absolute URIs
   in Link headers, and MUST be quoted if they contain a semicolon (";")
   or comma (",").

   The <strong><font color='green'>"hreflang",</font></strong> "title", "title*", "type" and any link-extension
   link-params are considered to be <strike><font color='red'>the</font></strike> target parameters for the link.

   The <strong><font color='green'>"hreflang" parameter, when present, is a hint indicating what the
   language of the result of dereferencing the link should be.  Note
   that this is only a hint; for example, it does not override the
   Content-Language header of a HTTP response obtained by actually
   following the link.  Multiple hreflang parameters on a single link-
   value indicate that multiple languages are available from the
   indicated resource.

   The</font></strong> "title" <strike><font color='red'>parameter</font></strike> <strong><font color='green'>parameter, when present,</font></strong> is used to label the destination
   of a link such that it can be used as a human-readable identifier
   (e.g. a menu entry).  <strike><font color='red'>Alternately,</font></strike>  <strong><font color='green'>The "title" parameter MUST NOT appear more than
   once in a given link-value; occurrences after</font></strong> the <strong><font color='green'>first MUST be
   ignored by parsers.

   The</font></strong> "title*" parameter MAY be used encode this label in a different
   character set, and/or contain language information as per [RFC2231].
   When using the enc2231-string syntax, producers MUST NOT use a
   charset value other than 'ISO-8859-1' or 'UTF-8'.  The <strong><font color='green'>"title*"
   parameter MAY appear more than once in a given link-value, but each
   occurrence MUST indicate a different language; occurrences after the
   first for a given language MUST be ignored by parsers.

   When presenting links to users, agents SHOULD use the most
   appropriate "title*" value, according to user preferences.  If an
   appropriate "title*" value cannot be found, the "title" parameter's
   value, if available, can be used.

   The</font></strong> "type" parameter, when present, is a hint indicating what the
   media type of the result of dereferencing the link should be.  Note
   that this is only a hint; for example, it does not override the
   Content-Type header of a HTTP response obtained by <strong><font color='green'>actually</font></strong> following
   the link.

<strike><font color='red'>5.1.  Examples

   NOTE: Non-ASCII characters used in prose for examples are encoded
   using the format "Backslash-U with Delimiters", defined</font></strike>  <strong><font color='green'>There MUST NOT be more than one type parameter</font></strong> in <strike><font color='red'>Section
   5.1 of [RFC5137].</font></strike> <strong><font color='green'>a link-
   value.

5.1.  Examples</font></strong>

   For example:

   Link: &lt;http://example.com/TheBook/chapter2&gt;; rel="previous";
         title="previous chapter"

   indicates that "chapter2" is previous to this resource in a logical
   navigation path.

   Similarly,

   Link: &lt;/&gt;; rel="http://example.net/foo"

   indicates that the root resource ("/") <strike><font color='red'>has</font></strike> <strong><font color='green'>is related to this resource
   with</font></strong> the extension relation <strong><font color='green'>type</font></strong> "http://example.net/foo".

   The example below shows an instance of the Link header encoding
   multiple links, and also the use of RFC 2231 encoding to encode both
   non-ASCII characters and language information.

   Link: &lt;/TheBook/chapter2&gt;;
         rel="previous"; <strike><font color='red'>title*=UTF-8'de'letztes%20Kapitel",</font></strike> <strong><font color='green'>title*=UTF-8'de'letztes%20Kapitel,</font></strong>
         &lt;/TheBook/chapter4&gt;;
         rel="next"; <strike><font color='red'>title*=UTF-8'de'n%c3%a4chstes%20Kapitel"</font></strike> <strong><font color='green'>title*=UTF-8'de'n%c3%a4chstes%20Kapitel</font></strong>

   Here, <strike><font color='red'>the second link has a title</font></strike> <strong><font color='green'>both links have titles</font></strong> encoded in UTF-8, <strike><font color='red'>uses</font></strike> <strong><font color='green'>use</font></strong> the German
   language ("de"), and <strong><font color='green'>the second link</font></strong> contains the Unicode code point
   U+00E4 ("LATIN SMALL LETTER A WITH DIAERESIS").

   Note that link-values may convey multiple links between the same
   target and context IRIs; for example:

       Link: &lt;http://example.org/&gt;; <strike><font color='red'>rel=index;</font></strike>
             rel="start http://example.net/relation/other"

   Here, the link to "http://example.org/" has the registered relation
   <strike><font color='red'>types "index" and "start",</font></strike>
   <strong><font color='green'>type "start"</font></strong> and the extension relation type
   "http://example.net/relation/other".

6.  IANA Considerations

6.1.  Link <strong><font color='green'>HTTP</font></strong> Header Registration

   This specification updates the Message Header Registry entry for
   "Link" in HTTP [RFC3864] to refer to this document.

   Header field: Link
   Applicable protocol: http
   Status: standard
   Author/change controller:
       IETF  (iesg@ietf.org)
       Internet Engineering Task Force
   Specification document(s):
      [ this document ]

6.2.  Link Relation Type Registry

   This specification establishes the Link Relation Type Registry, and
   updates Atom [RFC4287] to refer to it in place of the "Registry of
   Link Relations".

   <strike><font color='red'>The requirements for registered relation types are described</font></strike>

   <strong><font color='green'>[[ Note to IESG: Entries</font></strong> in
   <strike><font color='red'>Section 4.1.</font></strike> <strong><font color='green'>the Atom registry that are not listed
   below at the time that IANA implements this change (i.e., those that
   are registered before this document comes into effect) should be
   referred to the Designated Expert. ]]

6.2.1.  Registering new Link Relation Types</font></strong>

   Relation types are registered on the advice of a Designated Expert
   (appointed by the IESG or their delegate), with a Specification
   Required (using terminology from [RFC5226]).

   <strong><font color='green'>The requirements for registered relation types are described in
   Section 4.1.</font></strong>

   Registration requests consist of the completed registration template
   below, typically published in an RFC or Open Standard (in the sense
   described by [RFC2026], Section 7).  However, to allow for the
   allocation of values prior to publication, the Designated Expert may
   approve registration once they are satisfied that <strike><font color='red'>an RFC (or other
   Open Standard)</font></strike> <strong><font color='green'>a specification</font></strong>
   will be published.

   The registration template is:

   o  Relation Name:

   o  Description:
   o  Reference:
   o  Notes: [optional]

   <strike><font color='red'>Upon receiving a registration request (usually via IANA), the
   Designated Expert</font></strike>
   <strong><font color='green'>o  Fields: [optional]

   Registration requests</font></strong> should <strike><font color='red'>request review and comment from</font></strike> <strong><font color='green'>be sent to</font></strong> the
   <strike><font color='red'>apps-discuss@ietf.org</font></strike> <strong><font color='green'>[TBD]@ietf.org</font></strong> mailing <strike><font color='red'>list (or a successor designated by</font></strike>
   <strong><font color='green'>list, marked clearly in</font></strong> the
   <strike><font color='red'>APPS Area Directors).  Before a period of 30</font></strike> <strong><font color='green'>subject line (e.g,.  "NEW RELATION
   REQUEST").

   Within at most 14</font></strong> days <strike><font color='red'>has passed,</font></strike> <strong><font color='green'>of the request,</font></strong> the Designated <strike><font color='red'>Expert</font></strike> <strong><font color='green'>Expert(s)</font></strong> will
   either approve or deny the registration request, communicating this
   decision <strike><font color='red'>both</font></strike> to the review <strike><font color='red'>list and to
   IANA.</font></strike> <strong><font color='green'>list.</font></strong>  Denials should include an explanation
   and, if applicable, suggestions as to how to make the request
   successful.  <strong><font color='green'>Registration requests that are undetermined for a period
   longer than 21 days can be brought to the IESG's attention (using the
   iesg@iesg.org mailing list) for resolution.

   When a registration request is successful, the Designated Expert(s)
   will update the registry XML file (using the format described in
   Appendix A and send it to the [TBD-2]@ietf.org mailing list (which
   MUST be unarchived, and only accept posts from the Designated
   Expert(s)), so that implementers interested in receiving a machine-
   readable registry can do so.  Simultaneously, they will send a text
   (not XML) version of the registry to IANA for publication.

   IANA should only accept registry updates from the Designated
   Expert(s), and should direct all requests for registration to the
   review mailing list.

6.2.2.  Initial Registry Contents</font></strong>

   The Link Relation Type registry's initial contents are:

   o  Relation Name: alternate
   o  Description: Designates a substitute for the link's context.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: appendix
   o  Description: Refers to an appendix.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: bookmark
   o  Description: Refers to a bookmark or entry point.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: chapter
   o  Description: Refers to a chapter in a collection of resources.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: contents
   o  Description: Refers to a table of contents.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: copyright
   o  Description: Refers to a copyright statement that applies to the
      link's context.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: current
   o  Description: Refers to a resource containing the most recent
      item(s) in a collection of resources.
   o  Reference: [RFC5005]

   o  Relation Name: describedby
   o  Description: Refers to a resource providing information about the
      link's context.
   o  Documentation: <strike><font color='red'>&lt;http://www.w3.org/TR/powder-dr/&gt;</font></strike> <strong><font color='green'>&lt;http://www.w3.org/TR/powder-dr/#assoc-linking&gt;</font></strong>

   o  Relation Name: edit
   o  Description: Refers to a resource that can be used to edit the
      link's context.
   o  Reference: [RFC5023]

   o  Relation Name: edit-media
   o  Description: Refers to a resource that can be used to edit media
      associated with the link's context.
   o  Reference: [RFC5023]

   o  Relation Name: enclosure
   o  Description: Identifies a related resource that is potentially
      large and might require special handling.
   o  Reference: [RFC4287]

   o  Relation Name: first
   o  Description: An IRI that refers to the furthest preceding resource
      in a series of resources.
   o  Reference: [this document]
   o  <strong><font color='green'>Notes: this relation type pre-exists this specification, and did
      not indicate a reference.  Originally requested by Mark Nottingham
      in December 2004.

   o</font></strong>  Relation Name: glossary
   o  Description: Refers to a glossary of terms.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: help
   o  Description: Refers to a resource offering help (more information,
      links to other sources information, etc.)
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: index
   o  Description: Refers to an index.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: last
   o  Description: An IRI that refers to the furthest following resource
      in a series of resources.
   o  Reference: [this document]
   o  <strong><font color='green'>Notes: this relation type pre-exists this specification, and did
      not indicate a reference.  Originally requested by Mark Nottingham
      in December 2004.

   o</font></strong>  Relation Name: license
   o  Description: Refers to a license associated with the link's
      context.
   o  Reference: [RFC4946]

   o  Relation Name: next
   o  Description: Refers to the next resource in a ordered series of
      resources.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: next-archive
   o  Description: Refers to the immediately following archive resource.
   o  Reference: [RFC5005]

   o  Relation Name: payment
   o  Description: indicates a resource where payment is accepted.
   o  Reference: [this document]
   o  <strong><font color='green'>Notes: this relation type pre-exists this specification, and did
      not indicate a reference.  Requested by Joshua Kinberg and Robert
      Sayre.

   o</font></strong>  Relation Name: prev
   o  Description: Refers to the previous resource in an ordered series
      of resources.  Synonym for "previous".
   o  Reference: [W3C.REC-html401-19991224]
   o  Relation Name: previous
   o  Description: Refers to the previous resource in an ordered series
      of resources.  Synonym for "prev".
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: prev-archive
   o  Description: Refers to the immediately preceding archive resource.
   o  Reference: [RFC5005]

   o  Relation Name: related
   o  Description: Identifies a related resource.
   o  Reference: [RFC4287]

   o  Relation Name: replies
   o  Description: Identifies a resource that is a reply to the context
      of the link.
   o  Reference: [RFC4685]

   o  Relation Name: section
   o  Description: Refers to a section in a collection of resources.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: self
   o  Description: Conveys an identifier for the link's context.
   o  Reference: [RFC4287]

   o  Relation Name: service
   o  Description: Indicates a URI that can be used to retrieve a
      service document.
   o  Reference: [RFC5023]
   o  Notes: When used in an Atom document, this relation <strong><font color='green'>type</font></strong> specifies
      Atom Publishing Protocol service documents by default.  <strong><font color='green'>Requested
      by James Snell.</font></strong>

   o  Relation Name: start
   o  Description: Refers to the first resource in a collection of
      <strike><font color='red'>resources.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: stylesheet
   o  Description: Refers</font></strike>
      <strong><font color='green'>resources.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: stylesheet
   o  Description: Refers to an external style sheet.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: subsection
   o  Description: Refers to a resource serving as a subsection in a
      collection of resources.

   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: up
   o  Description: Refers to a parent document in a hierarchy of
      documents.
   o  Reference: [this document]
   o  Notes: this relation type pre-exists this specification, and did
      not indicate a reference.  Requested by Noah Slater.

   o  Relation Name: via
   o  Description: Identifies a resource that is the source of the
      information in the link's context.
   o  Reference: [RFC4287]

6.3.  Link Relation Field Registry

   This specification also establishes the Link Relation Field Registry,
   to allow entries in the Link Relation Type Registry to be extended
   with application-specific data (hereafter, "fields").

   Fields are registered on the advice of a Designated Expert (appointed
   by the IESG or their delegate), with a Specification Required (using
   terminology from [RFC5226]).

   Registration requests consist of the completed registration template
   below;

   o  Field Name:
   o  Description:
   o  Default Value:
   o  Notes: [optional]

   The Description SHOULD identify the value space of the field.  The
   Default Value MUST be appropriate to entries which the field does not
   apply to.

   Entries that pre-date the addition of a field will automatically be
   considered to have the default value for that field; if there are
   exceptions, the modification of such entries should be coordinated by
   the Designated Expert(s), in consultation with the author of the
   proposed field as well as the registrant of the existing entry (if
   possible).

   Registration requests should be sent to the [TBD]@ietf.org mailing
   list, marked clearly in the subject line (e.g,.  "NEW EXTENSION
   FIELD").

   Within at most 14 days of the request, the Designated Expert will
   either approve or deny the registration request, communicating this
   decision</font></strong> to <strong><font color='green'>the review list.  Denials should include</font></strong> an <strike><font color='red'>external style sheet.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: subsection
   o  Description: Refers to a resource serving</font></strike> <strong><font color='green'>explanation
   and, if applicable, suggestions</font></strong> as <strike><font color='red'>a subsection in a
      collection of resources.
   o  Reference: [W3C.REC-html401-19991224]

   o  Relation Name: up
   o  Description: Refers</font></strike> to <strong><font color='green'>how to make the request
   successful.  Registration requests that are undetermined for</font></strong> a <strike><font color='red'>parent document in a hierarchy of
      documents.
   o  Reference: [this document]
   o  Relation Name: via
   o  Description: Identifies</font></strike> <strong><font color='green'>period
   longer than 21 days MAY be brought to the IESG's attention (using the
   iesg@iesg.org mailing list) for resolution.

   When</font></strong> a <strike><font color='red'>resource that</font></strike> <strong><font color='green'>registration request</font></strong> is <strong><font color='green'>successful,</font></strong> the <strike><font color='red'>source of</font></strike> <strong><font color='green'>Designated Expert will
   forward it to IANA for publication.  IANA should only accept registry
   updates from</font></strong> the
      <strike><font color='red'>information in</font></strike> <strong><font color='green'>Designated Expert(s), and should direct all requests
   for registration to</font></strong> the <strike><font color='red'>link's context.
   o  Reference: [RFC4287]</font></strike> <strong><font color='green'>review mailing list.</font></strong>

7.  Security Considerations

   The content of the Link header-field is not secure, private or
   integrity-guaranteed, and due caution should be exercised when using
   it.

   Applications that take advantage of typed links should consider the
   attack vectors opened by automatically following, trusting, or
   otherwise using links gathered from HTTP headers.  In particular,
   Link headers that use the "anchor" parameter to associate a link's
   context with another resource should be treated with due caution.

8.  Internationalisation Considerations

   Target IRIs may need to be converted to URIs in order to express them
   in serialisations that do not support IRIs.  This includes the Link
   HTTP header.

   Similarly, the anchor parameter of the Link header does not support
   IRIs, and therefore IRIs must be converted to URIs before inclusion
   there.

   Relation types are defined as URIs, not IRIs, to aid in their
   comparison.  It is not expected that they will be displayed to end
   users.

9.  References

9.1.  Normative References

   [RFC2026]  Bradner, S., "The Internet Standards Process -- Revision
              3", BCP 9, RFC 2026, October 1996.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2231]  Freed, N. and K. Moore, "MIME Parameter Value and Encoded
              Word Extensions: Character Sets, Languages, and
              Continuations", RFC 2231, November 1997.

   [RFC2616]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H.,
              Masinter, L., Leach, P., and T. Berners-Lee, "Hypertext
              Transfer Protocol -- HTTP/1.1", RFC 2616, June 1999.

   [RFC3864]  Klyne, G., Nottingham, M., and J. Mogul, "Registration
              Procedures for Message Header Fields", BCP 90, RFC 3864,
              September 2004.

   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              RFC 3986, January 2005.

   [RFC3987]  Duerst, M. and M. Suignard, "Internationalized Resource
              Identifiers (IRIs)", RFC 3987, January 2005.

   [RFC4288]  Freed, N. and J. Klensin, "Media Type Specifications and
              Registration Procedures", BCP 13, RFC 4288, December 2005.

   <strong><font color='green'>[RFC4646]  Phillips, A. and M. Davis, "Tags for Identifying
              Languages", BCP 47, RFC 4646, September 2006.</font></strong>

   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", BCP 26, RFC 5226,
              May 2008.

9.2.  Informative References

   [RFC2068]  Fielding, R., Gettys, J., Mogul, J., Nielsen, H., and T.
              Berners-Lee, "Hypertext Transfer Protocol -- HTTP/1.1",
              RFC 2068, January 1997.

   [RFC4287]  Nottingham, M. and R. Sayre, "The Atom Syndication
              Format", RFC 4287, December 2005.

   [RFC4685]  Snell, J., "Atom Threading Extensions", RFC 4685,
              September 2006.

   [RFC4946]  Snell, J., "Atom License Extension", RFC 4946, July 2007.

   [RFC5005]  Nottingham, M., "Feed Paging and Archiving", RFC 5005,
              September 2007.

   [RFC5023]  Gregorio, J. and B. de hOra, "The Atom Publishing
              Protocol", RFC 5023, October 2007.

   <strike><font color='red'>[RFC5137]  Klensin, J., "ASCII Escaping of Unicode Characters",
              BCP 137, RFC 5137, February 2008.</font></strike>

   [W3C.REC-html401-19991224]
              Raggett, D., Hors, A., and I. Jacobs, "HTML 4.01
              Specification", W3C REC REC-html401-19991224,
              December 1999.

   [W3C.REC-rdfa-syntax-20081014]
              Pemberton, S., Birbeck, M., Adida, B., and S. McCarron,
              "RDFa in XHTML: Syntax and Processing", World Wide Web
              <strike><font color='red'>Consortium Recommendation REC-rdfa-syntax-20081014,
              October 2008,
              &lt;http://www.w3.org/TR/2008/REC-rdfa-syntax-20081014&gt;.

   [W3C.REC-xhtml-basic-20080729]
              Baker, M., Wugofski, T., Ishikawa, M., Stark, P., Matsui,
              S.,</font></strike>
              <strong><font color='green'>Consortium Recommendation REC-rdfa-syntax-20081014,
              October 2008,
              &lt;http://www.w3.org/TR/2008/REC-rdfa-syntax-20081014&gt;.

   [W3C.REC-xhtml-basic-20080729]
              Baker, M., Wugofski, T., Ishikawa, M., Stark, P., Matsui,
              S., and T. Yamakami, "XHTML[TM] Basic 1.1", World Wide Web
              Consortium Recommendation REC-xhtml-basic-20080729,
              July 2008,
              &lt;http://www.w3.org/TR/2008/REC-xhtml-basic-20080729&gt;.

Appendix A.  Link Relation Registry Format

   To facilitate applications that wish to use registry data, this
   specification defines an XML-based format for the registry entries.

   Each registered relation type is represented by a RelationType
   element, and if any of the Field values are other than the default
   value identified in the Field Registry, they will be represented by
   field elements.

   Note that this format is NOT that which IANA publishes the registry
   in, because doing so would subject IANA's servers to, potentially,
   very high load (e.g., if Web browsers were to automatically update
   their copies of the registry).  Instead, this format is published to
   the [TBD-2]@ietf.org mailing list, so that interested implementors
   can subscribe</font></strong> and <strike><font color='red'>T. Yamakami, "XHTML[TM] Basic 1.1", World Wide Web
              Consortium Recommendation REC-xhtml-basic-20080729,
              July 2008,
              &lt;http://www.w3.org/TR/2008/REC-xhtml-basic-20080729&gt;.</font></strike> <strong><font color='green'>distribute the machine-readable document using
   their own infrastructure.

A.1.  Relax NG Grammar

   element RelationTypes {
     element RelationType {
       attribute name { text },
       attribute reference { text },
       element description { text },
       element notes { text }?,
       element field {
         attribute name { text },
         text
       }*
     }+
   }

A.2.  Example

   &lt;RelationTypes&gt;
     &lt;RelationType name="example"
                   reference="http://www.example.org/example_spec"&gt;
       &lt;description&gt;This is an example relation type.&lt;/description&gt;
       &lt;field name="foo"&gt;This is the value of the Foo field.&lt;/field&gt;
     &lt;/RelationType&gt;
     &lt;!-- ... --&gt;
   &lt;/RelationTypes&gt;</font></strong>

Appendix <strike><font color='red'>A.</font></strike> <strong><font color='green'>B.</font></strong>  Notes on Using the Link Header with HTML4

   HTML motivated the original syntax of the Link header, and many of
   the design decisions in this document are driven by a desire to stay
   compatible with these uses.

   In HTML4, the link element can be mapped to links as specified here
   by using the "href" attribute for the target URI, and "rel" to convey
   the relation type, as in the Link header.  The context of the link is
   the URI associated with the entire HTML document.

   HTML4 also has a "rev" parameter for links that allows a link's
   relation to be reversed.  The Link header <strike><font color='red'>has</font></strike> <strong><font color='green'>does not define</font></strong> a
   <strong><font color='green'>corresponding</font></strong> "rev" parameter to allow the expression of these links
   in HTTP headers, <strike><font color='red'>but its use is
   not encouraged,</font></strike> due to the confusion this mechanism causes as well
   as conflicting interpretations <strike><font color='red'>among HTML versions.</font></strike> <strong><font color='green'>(briefly, some hold that rev reverses
   the direction of the link, while others that it reverses the
   semantics of the relation itself).</font></strong>

   All of the link <strike><font color='red'>relations</font></strike> <strong><font color='green'>relation types</font></strong> defined by HTML4 have been included in
   the link relation <strong><font color='green'>type</font></strong> registry, so they can be used without
   modification.  However, <strong><font color='green'>there are several potential ways to serialise</font></strong>
   extension <strike><font color='red'>link relations work differently in HTML4 and the
   Link header;</font></strike> <strong><font color='green'>relation types into HTML4, including

   o  As absolute URIs, or
   o  using</font></strong> the <strike><font color='red'>former uses a</font></strike> document-wide "profile" <strong><font color='green'>attribute's</font></strong> URI <strike><font color='red'>to scope
   the relations, while the latter allows the use of full URIs on
   individual relations.

   Therefore, when using the profile mechanism in HTML4, it is necessary
   to map the profiled link relations to URIs when expressed in Link
   headers.  For example, in HTML:

   &lt;html&gt;
     &lt;head profile="http://example.com/profile1/"&gt;
       &lt;link rel="foo" href="/bar"&gt;
     &lt;/head&gt;
     [...]

   could be represented</font></strike> as a <strike><font color='red'>header like this;

   Link: &lt;/bar&gt;; rel="http://example.com/profile1/foo"

   Profile authors should note this when creating profile URIs; it may
   be desirable to use URIs that end in a delimiter (e.g., "/"</font></strike> <strong><font color='green'>prefix for
      relation types,</font></strong> or <strike><font color='red'>"#"),
   to make extracting</font></strike>
   <strong><font color='green'>o  using</font></strong> the <strike><font color='red'>specific relation in use easier.

   Note that</font></strike> RDFa [W3C.REC-rdfa-syntax-20081014] <strike><font color='red'>defines</font></strike> <strong><font color='green'>convention of
      mapping token prefixes to URIs (in</font></strong> a <strike><font color='red'>different way</font></strike> <strong><font color='green'>manner similar</font></strong> to <strike><font color='red'>map link relations</font></strike> <strong><font color='green'>XML name
      spaces) (note that RDFa is only defined</font></strong> to <strike><font color='red'>URIs</font></strike> <strong><font color='green'>work</font></strong> in XHTML
   <strike><font color='red'>[W3C.REC-xhtml-basic-20080729].  Although this convention</font></strike>
      <strong><font color='green'>[W3C.REC-xhtml-basic-20080729], but</font></strong> is <strike><font color='red'>not
   defined for HTML4, some authors may still use it there.</font></strike> <strong><font color='green'>sometimes used in HTML4).

   Individual applications of linking will therefore need to define how
   their extension links should be serialised into HTML4.</font></strong>

   Surveys of existing HTML content have shown that unregistered link
   relation types that are not URIs are (perhaps inevitably) common.
   Consuming HTML implementations should not consider such unregistered
   short links to be errors, but rather relation types with a local
   scope (i.e., their meaning is specific and perhaps private to that
   document).

   HTML4 also defines several attributes on links that are not
   explicitly defined by the Link header.  These attributes can be
   serialised as link-extensions to maintain fidelity.

   Finally, the HTML4 specification gives a special meaning when the
   "alternate" and "stylesheet" <strike><font color='red'>relations</font></strike> <strong><font color='green'>relation types</font></strong> coincide in the same
   link.  Such links should be serialised in the Link header using a
   single list of relation-types (e.g., rel="alternate stylesheet") to
   preserve this relationship.

Appendix <strike><font color='red'>B.</font></strike> <strong><font color='green'>C.</font></strong>  Notes on Using the Link Header with Atom

   Atom conveys links in the atom:link element, with the "href"
   attribute indicating the target IRI and the "rel" attribute
   containing the relation type.  The context of the link is either a
   feed IRI or an entry ID, depending on where it appears; generally,
   feed-level links are obvious candidates for transmission as a Link
   header.

   When serialising an atom:link into a Link header, it is necessary to
   convert target IRIs (if used) to URIs.

   Atom defines extension relation types in terms of IRIs.  This
   specification re-defines them as URIs, to simplify and reduce errors
   in their comparison.

   Atom allows registered link relation types to be serialised as
   absolute URIs.  Such relation types SHOULD be converted to the
   appropriate registered form (e.g.,
   "http://www.iana.org/assignments/relation/self" to "self") so that
   they are not mistaken for extension relation types.

   Furthermore, Atom link <strike><font color='red'>relations</font></strike> <strong><font color='green'>relation types</font></strong> are always compared in a case-
   sensitive fashion; therefore, registered link <strike><font color='red'>relations</font></strike> <strong><font color='green'>relation types</font></strong> SHOULD
   be converted to their registered form (usually, lower case) when
   serialised in an Atom document.

   Note also that while the Link header allows multiple relations to be
   serialised in a single link, atom:link does not.  In this case, a
   single link-value may map to several atom:link elements.

   As with HTML, atom:link defines some attributes that are not
   explicitly mirrored in the Link header syntax, but they may also be
   used as link-extensions to maintain fidelity.

Appendix <strike><font color='red'>C.  Defining New Link Serialisations

   New serialisations of links (as defined by this specification) need
   to address several issues, including:

   o  Specific syntax for each component of the link model described in
      Section 3.
   o  What target attributes, if any, are defined by the serialisation.
   o  How to determine the context of the link.
   o  How to differentiate registered link relations from extension link
      relations (if the latter are serialised as URIs, this is
      relatively straightforward).

Appendix</font></strike> D.  Acknowledgements

   This specification lifts the idea and definition for the Link header
   from RFC2068; credit for it belongs entirely to the authors of and
   contributors to that document.  The link relation <strong><font color='green'>type</font></strong> registrations
   themselves are sourced from several documents; see the applicable
   references.

   The author would like to thank the many people who commented upon,
   encouraged and gave feedback to this specification, especially
   including Frank Ellermann, Roy Fielding and Julian Reschke.

Appendix E.  Document history

   [[ to be removed by the RFC editor before publication as an RFC. ]]

   <strong><font color='green'>-07

   o  Allowed multiple spaces between relation types.
   o  Relaxed requirements for registered relations.
   o  Removed Defining New Link Serialisations appendix.
   o  Added Field registry.
   o  Added registry XML format.
   o  Changed registration procedure to use mailing list(s), giving the
      Designated Experts more responsibility for the smooth running of
      the registry.

   o  Loosened prohibition against media-specific relation types to
      SHOULD NOT.
   o  Disallowed registration of media-specific relation types (can
      still be used as extension types).
   o  Clarified that parsers are responsible for resolving relative
      URIs.
   o  Fixed ABNF for extended-initial-value.
   o  Fixed title* parameter quoting in example.
   o  Added notes for registered relations that lack a reference.
   o  Added hreflang parameter.
   o  Clarified status of 'rev'.
   o  Removed advice to use @profile in HTML4.
   o  Clarified what multiple *title and hreflang attributes mean.
   o  Disallowed multiple type, rel and title attributes.
   o  Removed text about absolute URI form of registered relations.
   o  Required registered relations to conform to sgml-name (now just
      rel-relation-type).
   o  Required registered relations to be lowercase.
   o  Made comparison of extension relations case insensitive.
   o  Clarified requirements on registered relation types regarding
      media types, etc.
   o  Allowed applications to ignore links with anchor parameters if
      they're concerned.
   o  Made 'rev' text a bit less confusing.
   o  Extension relation URIs SHOULD be all-lowercase.</font></strong>

   -06

   o  Added "up" and "service" relation types.
   o  Fixed "type" attribute syntax and added prose.
   o  Added note about RDFa and XHTML to HTML4 notes.
   o  Removed specific location for the registry, since IANA seems to
      have its own ideas about that.

   -05

   o  Clarified how to resolve relative URIs in the 'anchor' parameter.
   o  Tweaked language about dereferencing relation type URIs.
   o  Separated out examples.
   o  Made target-parameters more explicit in the model.
   o  Discourage special semantics between different relations, or based
      upon cardinality.
   o  Grandfathered in special semantics of 'alternate stylesheet' for
      HTML4.
   o  Note that extension types can be serialised in ways other than as
      URIs, as long as they can be converted to URIs.

   o  Change default context of a link header to that of the requested
      resource.
   o  Use this document as reference for relations that don't have a
      formal definition other than the registry entries; avoids circular
      references.
   o  Noted that ordering of links is not significant or defined in this
      spec, but may be in specific applications.
   o  Adjusted uses of 'application' to 'serialisation' where
      appropriate.
   o  Added 'Defining New Link Serialisations' section.
   o  Added note about case sensitivity when comparing registered
      relation types in Atom.

   -04

   o  Defined context as a resource, rather than a representation.
   o  Removed concept of link directionality; relegated to a deprecated
      Link header extension.
   o  Relation types split into registered (non-URI) and extension
      (URI).
   o  Changed wording around finding URIs for registered relation types.
   o  Changed target and context URIs to IRIs (but not extension
      relation types).
   o  Add RFC2231 encoding for title parameter, explicit BNF for title*.
   o  Add i18n considerations.
   o  Specify how to compare relation types.
   o  Changed registration procedure to Designated Expert.
   o  Softened language around presence of relations in the registry.
   o  Added describedby relation.
   o  Re-added 'anchor' parameter, along with security consideration for
      third-party anchors.
   o  Softened language around HTML4 attributes that aren't directly
      accommodated.
   o  Various tweaks to abstract, introduction and examples.

   -03

   o  Inverted focus from Link headers to link relations.
   o  Specified was a link relation type is.
   o  Based on discussion, re-added 'rev'.
   o  Changed IESG Approval to IETF Consensus for relation registrations
      (i.e., require a document).
   o  Updated RFC2434 reference to RFC5226.
   o  Registered relations SHOULD conform to sgml-name.
   o  Cautioned against confusing relation types with media types.

   -02
   o  Dropped XLink language.
   o  Removed 'made' example.
   o  Removed 'rev'.  Can still be used as an extension.
   o  Added HTML reference to introduction.
   o  Required relationship values that have a ; or , to be quoted.
   o  Changed base URI for relation values.
   o  Noted registry location.
   o  Added advisory text about HTML profile URIs.
   o  Disallowed registration of relations that only differ in case.
   o  Clarified language about IRIs in Atom.
   o  Added descriptions for 'first', 'last', and 'payment', referring
      to current IANA registry entries, as these were sourced from
      e-mail.  Will this cause self-referential implosion?
   o  Explicitly updates RFC4287.
   o  Added 'type' parameter.
   o  Removed unnecessary advice about non-HTML relations in HTML
      section.

   -01

   o  Changed syntax of link-relation to one or more URI; dropped
      Profile.
   o  Dropped anchor parameter; can still be an extension.
   o  Removed Link-Template header; can be specified by templates spec
      or elsewhere.
   o  Straw-man for link relation registry.

   -00

   o  Initial draft; normative text lifted from RFC2068.

Author's Address

   Mark Nottingham

   Email: mnot@mnot.net
   URI:   http://www.mnot.net/
</pre>
</body></html>
